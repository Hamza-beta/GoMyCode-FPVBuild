{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_POST, CURRENT_POST, LIST_POST, POST_ERROR } from \"../types/post_types\";\nexport const createpost = formdata => async dispatch => {\n  const formdata = new FormData();\n  formdata.append(\"buildname\", buildname);\n  formdata.append(\"backgroundimage\", backgroundimage);\n  formdata.append(\"description\", description);\n  formdata.append(\"photos\", photos);\n  formdata.append(\"partslist\", partslist);\n\n  try {\n    const res = await axios.post(\"/api/posts/CreatePost\", formdata);\n    dispatch({\n      type: CREATE_POST,\n      payload: res.data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_ERROR,\n      payload: error.response.data\n    });\n  }\n};\nexport const listpost = () => async dispatch => {\n  try {\n    const res = await axios.get(\"/api/posts/ListPost\");\n    dispatch({\n      type: LIST_POST,\n      payload: res.data.Posts\n    }); //console.log(res.data.Posts);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const currentPost = () => async dispatch => {\n  const config = {\n    headers: {\n      Authorization: localStorage.getItem(\"token\")\n    }\n  };\n\n  try {\n    const res = await axios.get(\"/api/posts/ListUserPost\");\n    dispatch({\n      type: CURRENT_POST,\n      payload: res.data.Posts\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["C:/Users/HAMZA/Desktop/GOMYCODE/authBackendFront/client/src/redux/actions/post_action.jsx"],"names":["axios","CREATE_POST","CURRENT_POST","LIST_POST","POST_ERROR","createpost","formdata","dispatch","FormData","append","buildname","backgroundimage","description","photos","partslist","res","post","type","payload","data","error","response","listpost","get","Posts","console","log","currentPost","config","headers","Authorization","localStorage","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,YAAtB,EAAoCC,SAApC,EAA+CC,UAA/C,QAAiE,qBAAjE;AAEA,OAAO,MAAMC,UAAU,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;AAC1D,QAAMD,QAAQ,GAAG,IAAIE,QAAJ,EAAjB;AACAF,EAAAA,QAAQ,CAACG,MAAT,CAAgB,WAAhB,EAA6BC,SAA7B;AACAJ,EAAAA,QAAQ,CAACG,MAAT,CAAgB,iBAAhB,EAAmCE,eAAnC;AACAL,EAAAA,QAAQ,CAACG,MAAT,CAAgB,aAAhB,EAA+BG,WAA/B;AACAN,EAAAA,QAAQ,CAACG,MAAT,CAAgB,QAAhB,EAA0BI,MAA1B;AACAP,EAAAA,QAAQ,CAACG,MAAT,CAAgB,WAAhB,EAA6BK,SAA7B;;AACA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,IAAN,CAAW,uBAAX,EAAoCV,QAApC,CAAlB;AACAC,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEhB,WAAR;AAAqBiB,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAAlC,KAAD,CAAR;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACdb,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEb,UAAR;AAAoBc,MAAAA,OAAO,EAAEE,KAAK,CAACC,QAAN,CAAeF;AAA5C,KAAD,CAAR;AACD;AACF,CAbM;AAeP,OAAO,MAAMG,QAAQ,GAAG,MAAM,MAAOf,QAAP,IAAoB;AAChD,MAAI;AACF,UAAMQ,GAAG,GAAG,MAAMf,KAAK,CAACuB,GAAN,CAAU,qBAAV,CAAlB;AACAhB,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEd,SAAR;AAAmBe,MAAAA,OAAO,EAAEH,GAAG,CAACI,IAAJ,CAASK;AAArC,KAAD,CAAR,CAFE,CAGF;AACD,GAJD,CAIE,OAAOJ,KAAP,EAAc;AACdK,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACD;AACF,CARM;AASP,OAAO,MAAMO,WAAW,GAAG,MAAM,MAAOpB,QAAP,IAAoB;AACnD,QAAMqB,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADR;AADI,GAAf;;AAKA,MAAI;AACF,UAAMjB,GAAG,GAAG,MAAMf,KAAK,CAACuB,GAAN,CAAU,yBAAV,CAAlB;AACAhB,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEf,YAAR;AAAsBgB,MAAAA,OAAO,EAAEH,GAAG,CAACI,IAAJ,CAASK;AAAxC,KAAD,CAAR;AACD,GAHD,CAGE,OAAOJ,KAAP,EAAc;AACdK,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACD;AACF,CAZM","sourcesContent":["import axios from \"axios\";\r\nimport { CREATE_POST, CURRENT_POST, LIST_POST, POST_ERROR } from \"../types/post_types\";\r\n\r\nexport const createpost = (formdata) => async (dispatch) => {\r\n  const formdata = new FormData();\r\n  formdata.append(\"buildname\", buildname);\r\n  formdata.append(\"backgroundimage\", backgroundimage);\r\n  formdata.append(\"description\", description);\r\n  formdata.append(\"photos\", photos);\r\n  formdata.append(\"partslist\", partslist);\r\n  try {\r\n    const res = await axios.post(\"/api/posts/CreatePost\", formdata);\r\n    dispatch({ type: CREATE_POST, payload: res.data });\r\n  } catch (error) {\r\n    dispatch({ type: POST_ERROR, payload: error.response.data });\r\n  }\r\n};\r\n\r\nexport const listpost = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/posts/ListPost\");\r\n    dispatch({ type: LIST_POST, payload: res.data.Posts });\r\n    //console.log(res.data.Posts);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const currentPost = () => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: localStorage.getItem(\"token\"),\r\n    },\r\n  };\r\n  try {\r\n    const res = await axios.get(\"/api/posts/ListUserPost\");\r\n    dispatch({ type: CURRENT_POST, payload: res.data.Posts });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}